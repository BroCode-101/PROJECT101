{% extends "base.html" %}
{% block title %}Model Results{% endblock %}
{% block content %}
<div class="card p-4">
    <h2 class="text-center">{{ model }} Results</h2>

    <p><strong>Accuracy:</strong> {{ '%.2f' % (accuracy * 100) }}%</p>

    <h3>Classification Report</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Metric</th>
                <th>Class 0</th>
                <th>Class 1</th>
                <th>Macro Average</th>
                <th>Weighted Average</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Precision</td>
                <td>{{ classification_report['0']['precision'] | round(3) }}</td>
                <td>{{ classification_report['1']['precision'] | round(3) }}</td>
                <td>{{ classification_report['macro avg']['precision'] | round(3) }}</td>
                <td>{{ classification_report['weighted avg']['precision'] | round(3) }}</td>
            </tr>
            <tr>
                <td>Recall</td>
                <td>{{ classification_report['0']['recall'] | round(3) }}</td>
                <td>{{ classification_report['1']['recall'] | round(3) }}</td>
                <td>{{ classification_report['macro avg']['recall'] | round(3) }}</td>
                <td>{{ classification_report['weighted avg']['recall'] | round(3) }}</td>
            </tr>
            <tr>
                <td>F1-Score</td>
                <td>{{ classification_report['0']['f1-score'] | round(3) }}</td>
                <td>{{ classification_report['1']['f1-score'] | round(3) }}</td>
                <td>{{ classification_report['macro avg']['f1-score'] | round(3) }}</td>
                <td>{{ classification_report['weighted avg']['f1-score'] | round(3) }}</td>
            </tr>
        </tbody>
    </table>

    <h3>Confusion Matrix</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th></th>
                <th>Predicted 0</th>
                <th>Predicted 1</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>Actual 0</th>
                <td>{{ conf_matrix[0][0] }}</td>
                <td>{{ conf_matrix[0][1] }}</td>
            </tr>
            <tr>
                <th>Actual 1</th>
                <td>{{ conf_matrix[1][0] }}</td>
                <td>{{ conf_matrix[1][1] }}</td>
            </tr>
        </tbody>
    </table>

    <a href="/" class="btn btn-secondary mt-3">Back to Home</a>
</div>
{% endblock %}
